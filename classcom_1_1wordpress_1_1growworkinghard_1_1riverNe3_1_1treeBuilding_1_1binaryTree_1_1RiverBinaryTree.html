<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>RiverNe3: RiverBinaryTree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RiverNe3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>wordpress</b></li><li class="navelem"><b>growworkinghard</b></li><li class="navelem"><b>riverNe3</b></li><li class="navelem"><b>treeBuilding</b></li><li class="navelem"><b>binaryTree</b></li><li class="navelem"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html">RiverBinaryTree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RiverBinaryTree Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The building of a Binary <a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html" title="Main interface of the Decorator Pattern for the tree building. ">Tree</a> for a River Net.  
 <a href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for RiverBinaryTree:</div>
<div class="dyncontent">
<div class="center"><img src="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree__inherit__graph.png" border="0" usemap="#RiverBinaryTree_inherit__map" alt="Inheritance graph"/></div>
<map name="RiverBinaryTree_inherit__map" id="RiverBinaryTree_inherit__map">
<area shape="rect" id="node2" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html" title="Main interface of the Decorator Pattern for the tree building. " alt="" coords="39,5,87,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for RiverBinaryTree:</div>
<div class="dyncontent">
<div class="center"><img src="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree__coll__graph.png" border="0" usemap="#RiverBinaryTree_coll__map" alt="Collaboration graph"/></div>
<map name="RiverBinaryTree_coll__map" id="RiverBinaryTree_coll__map">
<area shape="rect" id="node2" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html" title="Main interface of the Decorator Pattern for the tree building. " alt="" coords="177,5,225,32"/>
<area shape="rect" id="node5" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1SimpleNodeFactory.html" title="Simple Factory in order to instantiate the proper type of node " alt="" coords="132,232,269,259"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae73f6f9fcc78ecd8a2c8fe533aa75a7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#ae73f6f9fcc78ecd8a2c8fe533aa75a7f">RiverBinaryTree</a> (final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt; inputData, final int threadsNumber)</td></tr>
<tr class="memdesc:ae73f6f9fcc78ecd8a2c8fe533aa75a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ae73f6f9fcc78ecd8a2c8fe533aa75a7f">More...</a><br /></td></tr>
<tr class="separator:ae73f6f9fcc78ecd8a2c8fe533aa75a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573c5da1fe6067ced5f44e7a58256263"><td class="memItemLeft" align="right" valign="top">synchronized HashMap&lt; <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a573c5da1fe6067ced5f44e7a58256263">computeNodes</a> ()</td></tr>
<tr class="separator:a573c5da1fe6067ced5f44e7a58256263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114608a0e1156850b22c292b09b24f28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a114608a0e1156850b22c292b09b24f28">buildTree</a> ()</td></tr>
<tr class="separator:a114608a0e1156850b22c292b09b24f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1f3807fd3fd2217911d48997cedccaea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a1f3807fd3fd2217911d48997cedccaea">findRoot</a> ()</td></tr>
<tr class="memdesc:a1f3807fd3fd2217911d48997cedccaea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the first root node in the <code>data</code> structure.  <a href="#a1f3807fd3fd2217911d48997cedccaea">More...</a><br /></td></tr>
<tr class="separator:a1f3807fd3fd2217911d48997cedccaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ef1831d096336571ac5a2c61c75ae7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#ac3ef1831d096336571ac5a2c61c75ae7">findChildren</a> (final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> root, final int emptyKey)</td></tr>
<tr class="memdesc:ac3ef1831d096336571ac5a2c61c75ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the children of the root node.  <a href="#ac3ef1831d096336571ac5a2c61c75ae7">More...</a><br /></td></tr>
<tr class="separator:ac3ef1831d096336571ac5a2c61c75ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb12408fc6dd2607817427b2fdbd0142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#afb12408fc6dd2607817427b2fdbd0142">updateData</a> (final boolean ghostNode, final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> root, final int leftIndex, final int rightIndex, final int emptyKey, final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> leftChild, final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> rightChild)</td></tr>
<tr class="memdesc:afb12408fc6dd2607817427b2fdbd0142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the data structure with the new roots.  <a href="#afb12408fc6dd2607817427b2fdbd0142">More...</a><br /></td></tr>
<tr class="separator:afb12408fc6dd2607817427b2fdbd0142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12c6c345355e1423b028ca8891e5b75"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#ac12c6c345355e1423b028ca8891e5b75">tmpChildConnectedToRoot</a> (final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> tmpChild, final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> root)</td></tr>
<tr class="memdesc:ac12c6c345355e1423b028ca8891e5b75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify if the temporary child is connected to the root.  <a href="#ac12c6c345355e1423b028ca8891e5b75">More...</a><br /></td></tr>
<tr class="separator:ac12c6c345355e1423b028ca8891e5b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab8be17ca3f4ba46c8761fd3e886fa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#abab8be17ca3f4ba46c8761fd3e886fa3">setNewRoot</a> (final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> child, final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> parent, final boolean leftChild)</td></tr>
<tr class="memdesc:abab8be17ca3f4ba46c8761fd3e886fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the root for the following subtrees.  <a href="#abab8be17ca3f4ba46c8761fd3e886fa3">More...</a><br /></td></tr>
<tr class="separator:abab8be17ca3f4ba46c8761fd3e886fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab331613d0fb429f6cab6a0b991136526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#ab331613d0fb429f6cab6a0b991136526">ricomputeRightChild</a> (final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> right)</td></tr>
<tr class="memdesc:ab331613d0fb429f6cab6a0b991136526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right child becomes a ghost node.  <a href="#ab331613d0fb429f6cab6a0b991136526">More...</a><br /></td></tr>
<tr class="separator:ab331613d0fb429f6cab6a0b991136526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d00e8c1623a0b3f1e5f76b464b5b5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54d00e8c1623a0b3f1e5f76b464b5b5c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a54d00e8c1623a0b3f1e5f76b464b5b5c">validateOutputData</a> ()</td></tr>
<tr class="memdesc:a54d00e8c1623a0b3f1e5f76b464b5b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validation of the output data. <br /></td></tr>
<tr class="separator:a54d00e8c1623a0b3f1e5f76b464b5b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a5e5741ae368f029a1dc2fb4d33444134"><td class="memItemLeft" align="right" valign="top">static HashMap&lt; <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a5e5741ae368f029a1dc2fb4d33444134">deepCopy</a> (final ConcurrentHashMap&lt; <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> &gt; computedTree)</td></tr>
<tr class="memdesc:a5e5741ae368f029a1dc2fb4d33444134"><td class="mdescLeft">&#160;</td><td class="mdescRight">The copy of the structure of the binary tree.  <a href="#a5e5741ae368f029a1dc2fb4d33444134">More...</a><br /></td></tr>
<tr class="separator:a5e5741ae368f029a1dc2fb4d33444134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff581e499cf5ec326411f637a887f631"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#aff581e499cf5ec326411f637a887f631">getInstance</a> (final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt; inputData, final int threadsNumber)</td></tr>
<tr class="memdesc:aff581e499cf5ec326411f637a887f631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate the state variables of the class.  <a href="#aff581e499cf5ec326411f637a887f631">More...</a><br /></td></tr>
<tr class="separator:aff581e499cf5ec326411f637a887f631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5ce2702af5fbe93e1d4d2c59047776"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#abe5ce2702af5fbe93e1d4d2c59047776">statesAreNull</a> ()</td></tr>
<tr class="memdesc:abe5ce2702af5fbe93e1d4d2c59047776"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the states variables are null.  <a href="#abe5ce2702af5fbe93e1d4d2c59047776">More...</a><br /></td></tr>
<tr class="separator:abe5ce2702af5fbe93e1d4d2c59047776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94232f21b30be1659a4c6cbdae9a293b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a94232f21b30be1659a4c6cbdae9a293b">validateInputData</a> (final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt; inputData)</td></tr>
<tr class="memdesc:a94232f21b30be1659a4c6cbdae9a293b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validation of the input data.  <a href="#a94232f21b30be1659a4c6cbdae9a293b">More...</a><br /></td></tr>
<tr class="separator:a94232f21b30be1659a4c6cbdae9a293b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a9aa61f7f61b9b7a11f20abce9926807a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9aa61f7f61b9b7a11f20abce9926807a"></a>
static volatile ConcurrentHashMap&lt; <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a9aa61f7f61b9b7a11f20abce9926807a">binaryTree</a></td></tr>
<tr class="memdesc:a9aa61f7f61b9b7a11f20abce9926807a"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure of the binary tree <br /></td></tr>
<tr class="separator:a9aa61f7f61b9b7a11f20abce9926807a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57da4dda0dfda8f944272df39ae8d1d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57da4dda0dfda8f944272df39ae8d1d9"></a>
static volatile ConcurrentHashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a57da4dda0dfda8f944272df39ae8d1d9">data</a></td></tr>
<tr class="memdesc:a57da4dda0dfda8f944272df39ae8d1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">input data <br /></td></tr>
<tr class="separator:a57da4dda0dfda8f944272df39ae8d1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585d49bbcd598d3e016053c95f2e4478"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a585d49bbcd598d3e016053c95f2e4478"></a>
static <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1SimpleNodeFactory.html">SimpleNodeFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a585d49bbcd598d3e016053c95f2e4478">factory</a> = new <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1SimpleNodeFactory.html">SimpleNodeFactory</a>()</td></tr>
<tr class="memdesc:a585d49bbcd598d3e016053c95f2e4478"><td class="mdescLeft">&#160;</td><td class="mdescRight">simple factory in order to instantiate the proper type of node for each <code>Geometry</code> data <br /></td></tr>
<tr class="separator:a585d49bbcd598d3e016053c95f2e4478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The building of a Binary <a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html" title="Main interface of the Decorator Pattern for the tree building. ">Tree</a> for a River Net. </p>
<p>This class parses a <code>ConcurrentHashMap</code> of input data, building the tree structure. The algorithm is rather simple but it allows the multithreaded parsing of the data structure. </p>
<p>It is based on the idea that each node of the tree is the root of a sub-tree. At the first loop, only the main root of the tree (the stream with number 1 in the PfafStetter numbering) has the boolean flag <code>root</code> set to <code>true</code>. Parsing the <code>data</code> structure, the first thread that find that node analizes and adds it on <code>binaryTree</code>. During the computation, the children of the root become the roots of them sub-tree and will have now the boolean flag <code>root</code> set to <code>true</code>. Parsing the <code>data</code> structure, the first threads that find the new roots (this time the new roots are 2, so two threads can work at the same time) analize them and make their children the new roots of them sub-tree (this time the new roots will be 4, so then four threads can work at the same time). The process ends when the <code>data</code> structure is empty. </p>
<p>This class is <em>ThreadSafe</em> because: </p><ol>
<li>
the data structures <code>binaryTree</code> and <code>data</code>, which are concurrently accessed, are implemented as <code>ConcurrentHashMap</code>. Citing <a class="el" href="citelist.html#CITEREF_goetz2006:java">[2]</a> <blockquote class="doxtable">
<p><code>ConcurrentHashMap</code> is a hash-based <code>Map</code> like <code>HashMap</code>, but it uses an entirely different locking strategy that offers a better concurrency and scalability. [...] it uses a finer-grained locking mechanism called <em>lock striping</em> to allow a greater degree of shared access. Arbitrarily many reading threads can access the map concurrently, readers can access the map concurrently with writers, and a limited number of writers can modify the map concurrently.</p>
</blockquote>
</li>
<li>
in order to make each and every change immediately available to the working threads, the data structures have been declared <code>volatile</code>. That ensures that updates to a variable are propagated predictably to other threads. <ul>
<li>
<code>volatile</code> fields and operations on them are not reordered with other memory operations by the compilar and runtime; </li>
<li>
<code>volatile</code> variables are not cached in registers or in caches where they are hidden from other processors, so a read of a volatile variable always returns the most recent write by any thread <a class="el" href="citelist.html#CITEREF_goetz2006:java">[2]</a>; </li>
</ul>
</li>
<li>
the constructor follows the principles of double-locking of the <b>Singleton Pattern</b>; </li>
<li>
atomic operations and iterators in method <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a1f3807fd3fd2217911d48997cedccaea" title="Find the first root node in the data structure. ">RiverBinaryTree::findRoot()</a> and RiverBinaryTree::findChildren(Geometry, int) are synchronized by the <em>intrinsic lock</em>; </li>
<li>
in order to avoid the <code>binaryTree</code> escaping from this class, the <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a573c5da1fe6067ced5f44e7a58256263">RiverBinaryTree::computeNodes()</a> method returns a copy of it; </li>
<li>
when possible, the principle of <b>Stack Confinement</b> has been used. </li>
</ol>
<dl class="section author"><dt>Author</dt><dd>Francesco Serafin, <a href="#" onclick="location.href='mai'+'lto:'+'fra'+'nc'+'esc'+'o.'+'ser'+'af'+'in.'+'3@'+'gma'+'il'+'.co'+'m'; return false;">franc<span style="display: none;">.nosp@m.</span>esco<span style="display: none;">.nosp@m.</span>.sera<span style="display: none;">.nosp@m.</span>fin.<span style="display: none;">.nosp@m.</span>3@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>November 08, 2015 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU Public License v3 AboutHydrology (Riccardo Rigon) </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae73f6f9fcc78ecd8a2c8fe533aa75a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html">RiverBinaryTree</a> </td>
          <td>(</td>
          <td class="paramtype">final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt;&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>threadsNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>This constructor calls the <code>static</code> method <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#aff581e499cf5ec326411f637a887f631" title="Allocate the state variables of the class. ">RiverBinaryTree::getInstance(final HashMap&lt;Integer, Geometry&gt;, final int)</a> in order to apply the <b>Singleton Pattern</b> with double-locking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputData</td><td>The input data after parsing a conversion in <code>Geometry</code> objects </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">threadsNumber</td><td>The number of threads that will possibly work concurrently on the same <code>ConcurrentHashMap</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a114608a0e1156850b22c292b09b24f28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buildTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The main method for building the tree or adding decorators to an already built structure.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html#ae93998c17e9b0b17a90fbdfa4e75cc97" title="The main method for building the tree or adding decorators to an already built structure. ">Tree::buildTree()</a> </dd></dl>

<p>Implements <a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html#ae93998c17e9b0b17a90fbdfa4e75cc97">Tree</a>.</p>

</div>
</div>
<a class="anchor" id="a573c5da1fe6067ced5f44e7a58256263"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized HashMap&lt;<a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a>&gt; computeNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method which returns the tree structure.This method must be implemented both on a class which build the tree (e.g. <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html" title="The building of a Binary Tree for a River Net. ">binaryTree.RiverBinaryTree</a>) and on decorator classes (e.g. <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1decorator_1_1Hydrometers.html" title="Add Hydrometers node to a Binary Tree structure. ">decorator.Hydrometers</a>) because it returns the structure of the tree. It works as <b>wrapper</b> once it is called from a decorator class, adding features to a plain tree or adding more features to an already wrapped tree, following the idea of the <b>Decorator Pattern</b>. To reduce the amount of memory allocated, this class returns a simple <code>HashMap</code> and not the Concurrent version. Based on the user necessities, she/he has to convert it in concurrent one if it is going to use it on a multi-threading code. <dl class="section return"><dt>Returns</dt><dd>The <code>HashMap</code> with the structure of the tree</dd></dl>
</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html#a8a89af0b2af6831a4e0c467d9b787af3" title="Method which returns the tree structure. ">Tree::computeNodes()</a> </dd></dl>
<p>&lt; postcondition </p>

<p>Implements <a class="el" href="interfacecom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1Tree.html#a8a89af0b2af6831a4e0c467d9b787af3">Tree</a>.</p>

</div>
</div>
<a class="anchor" id="a5e5741ae368f029a1dc2fb4d33444134"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HashMap&lt;<a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a>&gt; deepCopy </td>
          <td>(</td>
          <td class="paramtype">final ConcurrentHashMap&lt; <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1key_1_1Key.html">Key</a>, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> &gt;&#160;</td>
          <td class="paramname"><em>computedTree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The copy of the structure of the binary tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">computedTree</td><td>The binary tree just computed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The copy of the binary tree </dd></dl>

</div>
</div>
<a class="anchor" id="ac3ef1831d096336571ac5a2c61c75ae7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1composite_1_1Component.html">Component</a> findChildren </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>emptyKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the children of the root node. </p>
<p>Children of the root node are identified when coordinates of the ending point of the children are equal to the coordinates of the starting point of the root node. Once identified they become the new roots for the following loops. </p>
<p>As written in the <em>Java 8 Documentation</em> for the <code>ConcurrentHashMap</code> class, iterators are designed to be used by only <b>one thread</b> at a time. So for ensuring a good concurrency, a good policy may be synchronize the iteration until two or three children (in case of ghost node) have been found. Then it is possible to release the lock (so another thread can look for the children of the root node it is processing), processing children and ghost node, update the <code>data</code> structure and compute the new node of the net from the factory method implemented. </p>
<p>The factory method implemented is the <b>Simple Factory</b>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>The root of the temporary sub-tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emptyKey</td><td>The key of the root, which can be used by a ghost node, if identified </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new node of the binary tree, built on its connections (children, parent and eventually ghost node) </dd></dl>

</div>
</div>
<a class="anchor" id="a1f3807fd3fd2217911d48997cedccaea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void findRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the first root node in the <code>data</code> structure. </p>
<p>The algorithm to build the tree is based on the following idea: I can identify a <b>sub-tree</b> with a <code>root</code> and <code>two children</code> (doesn't matter if they are null or more than two in the reality). So when parsing the <code>data</code> structure I find a <code>root</code>, I have just found the starting point of a new <code>sub-tree</code>. Then I have to look for the two children: </p><ul>
<li>
if only two children are identified, the sub-tree is complete and the two children become the roots of the following sub-trees; </li>
<li>
if more than two children are identified, the sub-tree is completed by the real left child and a fake right child (the <code>ghost node</code>). The real left child and the ghost node become the roots of the following sub-tree; </li>
<li>
if no children are identified, the sub-tree is completed by two <code>null</code> children. </li>
</ul>
<p>The root node of the <code>sub-tree</code> is removed from the <code>data</code> structure at the end of each parsing loop. </p>
<p>As written in the <em>Java 8 Documentation</em> for the <code>ConcurrentHashMap</code> class, iterators are designed to be used by only <b>one thread</b> at a time. So for ensuring a good concurrency, a good policy may be synchronize the iteration until a root node of a sub-tree has been found and deleted from the <code>ConcurrentHashMap</code>. Then release the lock (so another thread can look for a different root of a sub-tree) and process the root just found. </p>

</div>
</div>
<a class="anchor" id="aff581e499cf5ec326411f637a887f631"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void getInstance </td>
          <td>(</td>
          <td class="paramtype">final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt;&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>threadsNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate the state variables of the class. </p>
<p>In order to allocate only the useful memory for the <code>ConcurrentHashMap</code> structures, <code>loadFactor</code> and <code>concurrencyLevel</code> have to be specified. Indeed, the default constructor of the <code>ConcurrentHashMap</code> allocates many objects in order to ensure the concurrent access of its data structure by different threads (the default <code>concurrencyLevel</code> is 16). A <code>loadFactory</code> equals to 0.9f ensures a dense packaging which will optimize the memory use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputData</td><td>The input data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">threadsNumber</td><td>The number of threads </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab331613d0fb429f6cab6a0b991136526"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ricomputeRightChild </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>right</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Right child becomes a ghost node. </p>
<p>If at least a ghost node is required to build the binary structure, the first right child identified becomes a ghost node. </p>
<p>To easily identify the ghost node in the following parsing of the <code>data</code> structure, the coordinates of the starting point are set equal to the coordinate of the ending point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">right</td><td>The right child </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abab8be17ca3f4ba46c8761fd3e886fa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setNewRoot </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>leftChild</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the root for the following subtrees. </p>
<p>Set the flag <code>root</code> on <code>true</code> and at the mean time set the <code>parentKey</code>, the <code>layer</code> and the <code>leftChildKey</code> or the <code>rightChildKey</code> on the basis of the type of child.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">child</td><td>The child which is going to become the new root </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>The actual root </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">leftChild</td><td>In order to give a proper key to the child, knowing if the child is a left or a right one is required </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe5ce2702af5fbe93e1d4d2c59047776"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean statesAreNull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the states variables are null. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>if both states are null </td></tr>
    <tr><td class="paramname">FALSE</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac12c6c345355e1423b028ca8891e5b75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean tmpChildConnectedToRoot </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>tmpChild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify if the temporary child is connected to the root. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tmpChild</td><td>The temporary <code>Geometry</code> object analyzed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>The root of the sub-tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>The child is connected to the root </td></tr>
    <tr><td class="paramname">FALSE</td><td>The child is not connected to the root </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb12408fc6dd2607817427b2fdbd0142"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void updateData </td>
          <td>(</td>
          <td class="paramtype">final boolean&#160;</td>
          <td class="paramname"><em>ghostNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>leftIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>rightIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>emptyKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>leftChild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a>&#160;</td>
          <td class="paramname"><em>rightChild</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the data structure with the new roots. </p>
<p>There are three cases: </p><ul>
<li>
GHOST NODE: if a ghost node has been identified, left child is normally updated, while the right child is not actually the next root of a sub-tree which is the in fact the ghost node. Thus right child is not modified; ghost node is added to the data structure with the boolean flag root set on <code>true</code> (it is actually going to be the next root of a sub-tree); </li>
<li>
RCHILD and LCHILD non <code>null</code>: in this case both the children are updated in the <code>data</code> structure and are going to be the next roots of the sub-tree; </li>
<li>
LCHILD non <code>null</code> and RCHILD <code>null</code>: LCHILD is the only child of the root, thus it is going to be the only root for the next loop. </li>
</ul>
<p>Replacing children in <code>data</code> shouldn't be a problem because: </p><ol>
<li>
<code>data</code> is <code>ConcurrentHashMap</code>, so it allows concurrent access; </li>
<li>
it's impossible that two threads are going to replace the same child because <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a1f3807fd3fd2217911d48997cedccaea" title="Find the first root node in the data structure. ">RiverBinaryTree::findRoot()</a> method ensures that each thread processes a different root and then different children. </li>
</ol>
<p>Doesn't matter if other threads don't see immediately the updated value of a child (that can appen if they have already got the iterator in <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#a1f3807fd3fd2217911d48997cedccaea" title="Find the first root node in the data structure. ">RiverBinaryTree::findRoot()</a> or in <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1treeBuilding_1_1binaryTree_1_1RiverBinaryTree.html#ac3ef1831d096336571ac5a2c61c75ae7" title="Find the children of the root node. ">RiverBinaryTree::findChildren()</a>, otherwise both the <code>ConcurrentHashMap</code> have been declared <b>volatile</b>). They see stale values, but it is not important because they are simply going to process other roots node. <b>Stale Data</b> are not a problem because the external loop in RiverBINAryTree::buildTree() goes on until the last element of <code>data</code> has been deleted. </p>
<p>For the same reason, it's almost impossible that a thread put the same ghost node with the same key in the <code>data</code> <code>ConcurrentHashMap</code> (this is really impossible because each thread manages its own different root node). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ghostNode</td><td><code>true</code> if a ghost node has been identified </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>The actual root node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">leftIndex</td><td>The index of <code>leftChild</code> in <code>data</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rightIndex</td><td>The index of <code>rightChild</code> in <code>data</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emptyKey</td><td>The key of the root node in <code>data</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">leftChild</td><td>The left child </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rightChild</td><td>The right child </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a94232f21b30be1659a4c6cbdae9a293b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void validateInputData </td>
          <td>(</td>
          <td class="paramtype">final HashMap&lt; Integer, <a class="el" href="classcom_1_1wordpress_1_1growworkinghard_1_1riverNe3_1_1geometry_1_1Geometry.html">Geometry</a> &gt;&#160;</td>
          <td class="paramname"><em>inputData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validation of the input data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputData</td><td>The parsed data from the input files </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/com/wordpress/growworkinghard/riverNe3/treeBuilding/binaryTree/RiverBinaryTree.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
